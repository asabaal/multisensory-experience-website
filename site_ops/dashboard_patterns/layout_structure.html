<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--
        IMPORTANT: Viewport meta tag for responsive design
        Initial scale 1.0 prevents zooming
        Width=device-width ensures proper mobile rendering
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--
        Application Title
        Customize this for your specific application
    -->
    <title>Visual Database Dashboard</title>

    <!--
        CSS Stylesheet
        Location: css/styles.css (relative to HTML file)
        Must define CSS variables in :root selector
    -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!--
        ROOT CONTAINER
        ID: app (REQUIRED)
        Purpose: Contains all application content
        CSS: display: flex, flex-direction: column, height: 100vh
    -->
    <div id="app">

        <!--
            HEADER SECTION
            Purpose: Display application title and branding
            CSS: Gradient background, padding, box-shadow
        -->
        <header>
            <!--
                Main Title
                Customize heading text for your application
            -->
            <h1>Visual Database Dashboard</h1>
        </header>

        <!--
            MAIN CONTENT AREA
            Purpose: Contains filters, table, and detail panel
            CSS: display: flex, flex: 1, overflow: hidden
            This creates the three-panel layout
        -->
        <main>

            <!--
                FILTERS SIDEBAR
                ID: filters (REQUIRED)
                Purpose: Display filter dropdowns for data filtering
                CSS: Fixed width 280px, background color, overflow-y: auto
                Border right separates from content area
            -->
            <section id="filters">
                <!--
                    Filters Section Heading
                    Static text, not dynamically generated
                -->
                <h2>Filters</h2>

                <!--
                    FILTER CONTAINER
                    ID: filter-container (REQUIRED)
                    Purpose: JavaScript dynamically appends filter dropdowns here
                    Each filter group contains:
                    - Label element
                    - Select element with ID "filter-{fieldName}"

                    Generated by: Renderer.renderFilterUI()

                    Example generated structure:
                    <div class="filter-group">
                        <label>Field Name</label>
                        <select id="filter-fieldName">
                            <option value="">All</option>
                            <option value="Value1">Value1</option>
                            <option value="Value2">Value2</option>
                        </select>
                    </div>
                -->
                <div id="filter-container">
                    <!-- Filter dropdowns will be dynamically generated here -->
                </div>
            </section>

            <!--
                CONTENT SECTION
                ID: content (REQUIRED)
                Purpose: Display table of filtered entries
                CSS: flex: 1 (takes remaining width), padding, overflow-y: auto
            -->
            <section id="content">

                <!--
                    CONTENT LIST CONTAINER
                    ID: content-list (REQUIRED)
                    Purpose: Contains table or no-content message
                    Generated by: Renderer.renderContentList()

                    Two possible states:

                    STATE 1: Table with entries
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Column 1</th>
                                <th>Column 2</th>
                                <!-- More headers -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="table-row" data-id="ENTRY-ID">
                                <td>Value 1</td>
                                <td>Value 2</td>
                                <!-- More cells -->
                            </tr>
                            <!-- More rows -->
                        </tbody>
                    </table>

                    STATE 2: No entries found
                    <div class="no-content">No content entries found</div>
                -->
                <div id="content-list">
                    <!-- Table or no-content message will be dynamically generated here -->
                </div>

            </section>

            <!--
                DETAILS PANEL
                ID: details-panel (REQUIRED)
                Class: hidden (REQUIRED - initially hidden)
                Purpose: Show detailed information about selected entry
                CSS: Fixed width 400px, background gradient, overflow-y: auto
                Position: relative for close button positioning

                State management:
                - Hidden: display: none
                - Visible: display: block

                Toggled by JavaScript removing/adding 'hidden' class
            -->
            <aside id="details-panel" class="hidden">

                <!--
                    CLOSE BUTTON
                    ID: close-details (REQUIRED)
                    Purpose: Hide details panel when clicked
                    CSS: Position absolute, top-right, circular button
                    Event handler: App.setupEventListeners()
                    Action: Sets selectedEntryId to null, hides panel, removes highlight
                -->
                <div class="close-btn" id="close-details">Ã—</div>

                <!--
                    DETAILS TITLE
                    ID: details-title (REQUIRED)
                    Purpose: Display entry's main identifier/name
                    Content: Dynamically set by Renderer.renderDetailsPanel()
                -->
                <h2 id="details-title"></h2>

                <!--
                    DETAILS CONTENT CONTAINER
                    ID: details-content (REQUIRED)
                    Purpose: Display field-value pairs for selected entry
                    Generated by: Renderer.renderDetailsPanel()

                    Structure:
                    <div class="detail-item">
                        <div class="detail-label">Field Name</div>
                        <div class="detail-value">Field Value</div>
                    </div>
                    <!-- More detail items -->
                -->
                <div id="details-content">
                    <!-- Detail items will be dynamically generated here -->
                </div>

                <!--
                    ATTACHED CONTENT SECTION
                    ID: attached-content (REQUIRED)
                    Purpose: Display media attachments (images, videos, audio)
                    Generated by: Renderer.renderAttachedMedia()

                    Contains:
                    - Heading (static)
                    - Container for media elements (dynamic)
                -->
                <div id="attached-content">

                    <!--
                        Static heading
                    -->
                    <h3>Attached Content</h3>

                    <!--
                        ATTACHED MEDIA CONTAINER
                        ID: attached-content-items (REQUIRED)
                        Purpose: Container for media elements
                        Generated by: Renderer.renderAttachedMedia()

                        Two possible states:

                        STATE 1: Media attached
                        <div class="media-wrapper">
                            <div class="media-type-label">VIDEO - LOCAL</div>
                            <video controls>
                                <source src="media/file.mp4" type="video/mp4">
                            </video>
                        </div>
                        <!-- More media wrappers -->

                        STATE 2: No media attached
                        <div class="no-content">No media attached yet.</div>
                    -->
                    <div id="attached-content-items">
                        <!-- Media elements will be dynamically generated here -->
                    </div>

                </div>

            </aside>

        </main>

    </div>

    <!--
        ========================================
        SCRIPT LOADING ORDER (CRITICAL)
        ========================================

        Load scripts in this EXACT order:

        1. data-ingestion.js
           - CSV and JSON loading functions
           - Protocol validation
           - CSV parsing
           - REQUIRED FIRST

        2. data-normalization.js
           - Data transformation functions
           - Date normalization
           - Media attachment linking
           - Depends on DataIngestion

        3. renderer.js
           - UI generation functions
           - Filter UI creation
           - Table rendering
           - Detail panel rendering
           - Media element creation
           - Depends on DataNormalization

        4. app.js
           - Application orchestration
           - State management
           - Event handling
           - Depends on all other modules
    -->

    <script src="js/data-ingestion.js"></script>
    <script src="js/data-normalization.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/app.js"></script>

    <!--
        ========================================
        APPLICATION INITIALIZATION
        ========================================

        Wait for DOM to be fully loaded before initializing

        This ensures all required elements exist in DOM
        before App.init() tries to access them
    -->
    <script>
        document.addEventListener('DOMContentLoaded', () => App.init());
    </script>

</body>
</html>

<!--
    ========================================
    REQUIRED DOM ELEMENTS SUMMARY
    ========================================

    IDs that MUST exist in HTML:

    Root Container:
    - app

    Header:
    - No required IDs (header is for display only)

    Filters Section:
    - filters (sidebar section)
    - filter-container (where dropdowns are generated)

    Content Section:
    - content (content section)
    - content-list (where table is generated)

    Details Panel:
    - details-panel (panel aside)
    - close-details (close button)
    - details-title (entry title)
    - details-content (detail items container)
    - attached-content (media section)
    - attached-content-items (media elements container)

    Classes used by JavaScript:

    - hidden (applied to details-panel when not visible)
    - table-row (applied to all table rows)
    - selected (applied to currently selected row)
    - filter-group (applied to each filter dropdown container)
    - content-table (applied to table element)
    - detail-item (applied to each detail pair)
    - detail-label (applied to field name div)
    - detail-value (applied to field value div)
    - media-wrapper (applied to each media element container)
    - media-type-label (applied to media type label)
    - media-link (applied to external media links)
    - no-content (applied to empty state messages)

    Data Attributes used by JavaScript:

    - data-id (on table-row elements, contains unique identifier)
    - data-columnIndex (on table header elements, for sorting)

    ========================================
    FILE STRUCTURE EXPECTATION
    ========================================

    dashboard.html (this file)
    css/
        styles.css
    js/
        data-ingestion.js
        data-normalization.js
        renderer.js
        app.js
    data/
        content.csv (REQUIRED)
        media.json (OPTIONAL)
    media/
        (local media files if using local media)

    ========================================
    CUSTOMIZATION POINTS
    ========================================

    1. Title:
       Change <title> tag content
       Change <h1> inside <header>

    2. CSS Reference:
       Update href="css/styles.css" if different path

    3. Script Paths:
       Update src attributes if different directory structure

    4. Data Paths:
       DataIngestion module uses 'data/' as default
       Modify loadCSVFiles() and loadMediaJSON() if different

    5. Media Paths:
       Renderer creates paths with 'media/' prefix
       Modify createLocalMedia() if different

    ========================================
    BROWSER REQUIREMENTS
    ========================================

    Minimum browser versions:
    - Chrome 49+
    - Firefox 44+
    - Safari 10.1+
    - Edge 79+

    Required features:
    - ES6 JavaScript (arrow functions, async/await, template literals)
    - CSS Variables
    - Flexbox
    - Fetch API
    - Position: sticky
    - DOMContentLoaded event

    ========================================
    SERVER REQUIREMENTS
    ========================================

    CRITICAL: This application MUST run on HTTP server
    NOT via file:// protocol

    Reason: Browser security blocks fetch() API for local files

    To start server:

    Python 3:
    python3 -m http.server 8000
    Open: http://localhost:8000

    Node.js:
    npx http-server -p 8000
    Open: http://localhost:8000

    VS Code Live Server extension:
    Right-click dashboard.html
    Select "Open with Live Server"

    ========================================
    DATA FILE REQUIREMENTS
    ========================================

    content.csv (REQUIRED):
    - UTF-8 encoded
    - Header row on line 1
    - Unique identifier column
    - Comma-delimited
    - Double quotes for fields with commas

    Example:
    content_id,Name,Category,Status,Created Date
    ID-001,Item One,Category A,Active,2025-01-15
    ID-002,Item Two,Category B,Inactive,2025-01-16

    media.json (OPTIONAL):
    - Valid JSON array
    - Each object has content_id field
    - Links media to CSV entries

    Example:
    [
      {
        "content_id": "ID-001",
        "type": "image",
        "source": "local",
        "path": "image.jpg"
      }
    ]

    ========================================
    INITIALIZATION SEQUENCE
    ========================================

    1. Browser loads HTML
    2. DOMContentLoaded event fires
    3. App.init() is called
    4. App.loadData() executes:
       a. Loads CSV via DataIngestion.loadCSVFiles()
       b. Normalizes rows via DataNormalization.normalizeRows()
       c. Loads JSON via DataIngestion.loadMediaJSON()
       d. Attaches media via DataNormalization.attachMedia()
       e. Extracts filter options via DataNormalization.extractFilterOptions()
       f. Generates filter UI via Renderer.renderFilterUI()
    5. App.setupEventListeners() registers event handlers
    6. App.applyFilters() filters and renders initial table

    ========================================
    USER INTERACTION FLOW
    ========================================

    1. User changes filter dropdown:
       - Filter change event fires
       - App.applyFilters() called
       - Entries filtered and re-rendered

    2. User clicks table row:
       - Row click event fires
       - App.selectEntry(entry) called
       - Details panel rendered
       - Row highlighted
       - Scroll to selection

    3. User clicks close button:
       - Close button event fires
       - Details panel hidden
       - Row highlight removed

    ========================================
-->
